{
  "metadata": {
    "timestamp": "2025-10-01T18:41:56.425330Z",
    "version": "2.1",
    "generatedBy": "AKS Network Diagnostics Script (Python)"
  },
  "cluster": {
    "name": "aks-overlay",
    "resourceGroup": "aks-overlay-rg",
    "subscription": "18fcfcaf-51b0-42c1-91ba-b14fe22f59dd",
    "provisioningState": "Failed",
    "location": "canadacentral",
    "nodeResourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
    "networkProfile": {
      "advancedNetworking": null,
      "dnsServiceIp": "10.0.0.10",
      "ipFamilies": [
        "IPv4"
      ],
      "loadBalancerProfile": {
        "allocatedOutboundPorts": null,
        "backendPoolType": "nodeIPConfiguration",
        "effectiveOutboundIPs": [
          {
            "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/publicIPAddresses/3eade215-a2c3-4daf-b58d-307eb703414d",
            "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral"
          }
        ],
        "enableMultipleStandardLoadBalancers": null,
        "idleTimeoutInMinutes": null,
        "managedOutboundIPs": {
          "count": 1,
          "countIpv6": null
        },
        "outboundIPs": null,
        "outboundIpPrefixes": null
      },
      "loadBalancerSku": "standard",
      "natGatewayProfile": null,
      "networkDataplane": "azure",
      "networkMode": null,
      "networkPlugin": "azure",
      "networkPluginMode": "overlay",
      "networkPolicy": "none",
      "outboundType": "loadBalancer",
      "podCidr": "10.244.0.0/16",
      "podCidrs": [
        "10.244.0.0/16"
      ],
      "serviceCidr": "10.0.0.0/16",
      "serviceCidrs": [
        "10.0.0.0/16"
      ],
      "staticEgressGatewayProfile": null
    },
    "apiServerAccess": null
  },
  "networking": {
    "vnets": [
      {
        "name": "aks-overlay-rg-vnet",
        "resourceGroup": "aks-overlay-rg",
        "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/virtualNetworks/aks-overlay-rg-vnet",
        "addressSpace": [
          "10.224.0.0/12"
        ],
        "subnets": [],
        "peerings": []
      }
    ],
    "outbound": {
      "type": "loadBalancer",
      "configuredPublicIPs": [
        "130.107.45.124"
      ],
      "effectiveOutbound": {
        "mechanism": "loadBalancer",
        "overridden_by_udr": false,
        "effective_mechanism": "loadBalancer",
        "virtual_appliance_ips": [],
        "load_balancer_ips": [
          "130.107.45.124"
        ],
        "warnings": [],
        "description": "Traffic uses Load Balancer with public IP(s): 130.107.45.124"
      },
      "udrAnalysis": null
    },
    "privateDns": {},
    "apiServerAccess": {},
    "vmssConfiguration": [
      {
        "name": "aks-agentpool-41785413-vmss",
        "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
        "networkProfile": {
          "healthProbe": null,
          "networkApiVersion": null,
          "networkInterfaceConfigurations": [
            {
              "auxiliaryMode": null,
              "auxiliarySku": null,
              "deleteOption": null,
              "disableTcpStateTracking": false,
              "dnsSettings": {
                "dnsServers": []
              },
              "enableAcceleratedNetworking": true,
              "enableFpga": null,
              "enableIpForwarding": true,
              "ipConfigurations": [
                {
                  "applicationGatewayBackendAddressPools": null,
                  "applicationSecurityGroups": null,
                  "loadBalancerBackendAddressPools": [
                    {
                      "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/loadBalancers/kubernetes/backendAddressPools/kubernetes",
                      "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral"
                    },
                    {
                      "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/loadBalancers/kubernetes/backendAddressPools/aksOutboundBackendPool",
                      "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral"
                    }
                  ],
                  "loadBalancerInboundNatPools": null,
                  "name": "ipconfig1",
                  "primary": true,
                  "privateIpAddressVersion": "IPv4",
                  "publicIpAddressConfiguration": null,
                  "subnet": {
                    "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/virtualNetworks/aks-overlay-rg-vnet/subnets/default",
                    "resourceGroup": "aks-overlay-rg"
                  }
                }
              ],
              "name": "aks-agentpool-41785413-vmss",
              "networkSecurityGroup": {
                "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg",
                "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral"
              },
              "primary": true
            }
          ]
        }
      }
    ],
    "nsgConfiguration": {
      "subnetNsgs": [
        {
          "subnetId": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/virtualNetworks/aks-overlay-rg-vnet/subnets/default",
          "subnetName": "default",
          "nsgId": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral",
          "nsgName": "aks-overlay-rg-vnet-default-nsg-canadacentral",
          "rules": [
            {
              "access": "Deny",
              "description": "Restrict outbound to the Internet",
              "destinationAddressPrefix": "Internet",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/securityRules/sec_close",
              "name": "sec_close",
              "priority": 150,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/securityRules"
            }
          ],
          "defaultRules": [
            {
              "access": "Allow",
              "description": "Allow inbound traffic from all VMs in VNET",
              "destinationAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/AllowVnetInBound",
              "name": "AllowVnetInBound",
              "priority": 65000,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "VirtualNetwork",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow inbound traffic from azure load balancer",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/AllowAzureLoadBalancerInBound",
              "name": "AllowAzureLoadBalancerInBound",
              "priority": 65001,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Deny",
              "description": "Deny all inbound traffic",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/DenyAllInBound",
              "name": "DenyAllInBound",
              "priority": 65500,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "destinationAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/AllowVnetOutBound",
              "name": "AllowVnetOutBound",
              "priority": 65000,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "VirtualNetwork",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow outbound traffic from all VMs to Internet",
              "destinationAddressPrefix": "Internet",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/AllowInternetOutBound",
              "name": "AllowInternetOutBound",
              "priority": 65001,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Deny",
              "description": "Deny all outbound traffic",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d4f12e82-98c2-48e8-a50b-a4b251a2d23c\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/aks-overlay-rg/providers/Microsoft.Network/networkSecurityGroups/aks-overlay-rg-vnet-default-nsg-canadacentral/defaultSecurityRules/DenyAllOutBound",
              "name": "DenyAllOutBound",
              "priority": 65500,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "aks-overlay-rg",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            }
          ]
        }
      ],
      "nicNsgs": [
        {
          "vmssName": "aks-agentpool-41785413-vmss",
          "nicName": "aks-agentpool-41785413-vmss",
          "nsgId": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg",
          "nsgName": "aks-agentpool-17863964-nsg",
          "rules": [],
          "defaultRules": [
            {
              "access": "Allow",
              "description": "Allow inbound traffic from all VMs in VNET",
              "destinationAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/AllowVnetInBound",
              "name": "AllowVnetInBound",
              "priority": 65000,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "VirtualNetwork",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow inbound traffic from azure load balancer",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/AllowAzureLoadBalancerInBound",
              "name": "AllowAzureLoadBalancerInBound",
              "priority": 65001,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Deny",
              "description": "Deny all inbound traffic",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/DenyAllInBound",
              "name": "DenyAllInBound",
              "priority": 65500,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "destinationAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/AllowVnetOutBound",
              "name": "AllowVnetOutBound",
              "priority": 65000,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "VirtualNetwork",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Allow",
              "description": "Allow outbound traffic from all VMs to Internet",
              "destinationAddressPrefix": "Internet",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/AllowInternetOutBound",
              "name": "AllowInternetOutBound",
              "priority": 65001,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            },
            {
              "access": "Deny",
              "description": "Deny all outbound traffic",
              "destinationAddressPrefix": "*",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "*",
              "destinationPortRanges": [],
              "direction": "Outbound",
              "etag": "W/\"d14cc32e-c2bd-4eb3-a2f6-3846a6c8b7a5\"",
              "id": "/subscriptions/18fcfcaf-51b0-42c1-91ba-b14fe22f59dd/resourceGroups/MC_aks-overlay-rg_aks-overlay_canadacentral/providers/Microsoft.Network/networkSecurityGroups/aks-agentpool-17863964-nsg/defaultSecurityRules/DenyAllOutBound",
              "name": "DenyAllOutBound",
              "priority": 65500,
              "protocol": "*",
              "provisioningState": "Succeeded",
              "resourceGroup": "MC_aks-overlay-rg_aks-overlay_canadacentral",
              "sourceAddressPrefix": "*",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": [],
              "type": "Microsoft.Network/networkSecurityGroups/defaultSecurityRules"
            }
          ]
        }
      ],
      "requiredRules": {
        "outbound": [
          {
            "name": "AKS_Registry_Access",
            "protocol": "TCP",
            "destination": "MicrosoftContainerRegistry",
            "ports": [
              "443"
            ],
            "description": "Access to Microsoft Container Registry"
          },
          {
            "name": "AKS_Azure_Management",
            "protocol": "TCP",
            "destination": "AzureCloud",
            "ports": [
              "443"
            ],
            "description": "Azure management endpoints"
          },
          {
            "name": "AKS_DNS",
            "protocol": "UDP",
            "destination": "*",
            "ports": [
              "53"
            ],
            "description": "DNS resolution"
          },
          {
            "name": "AKS_NTP",
            "protocol": "UDP",
            "destination": "*",
            "ports": [
              "123"
            ],
            "description": "Network Time Protocol"
          },
          {
            "name": "AKS_API_Server_Access",
            "protocol": "TCP",
            "destination": "*",
            "ports": [
              "443"
            ],
            "description": "Access to AKS API server"
          }
        ],
        "inbound": [
          {
            "name": "AKS_Inter_Node_Communication",
            "protocol": "*",
            "source": "VirtualNetwork",
            "ports": [
              "*"
            ],
            "description": "Communication between cluster nodes"
          },
          {
            "name": "AKS_Load_Balancer",
            "protocol": "*",
            "source": "AzureLoadBalancer",
            "ports": [
              "*"
            ],
            "description": "Azure Load Balancer health probes"
          }
        ]
      },
      "missingRules": [],
      "blockingRules": [
        {
          "nsgName": "aks-overlay-rg-vnet-default-nsg-canadacentral",
          "ruleName": "sec_close",
          "priority": 150,
          "direction": "Outbound",
          "protocol": "*",
          "destination": "Internet",
          "ports": "*",
          "impact": "Could block AKS management traffic",
          "isOverridden": false,
          "overriddenBy": [],
          "effectiveSeverity": "critical"
        }
      ],
      "interNodeCommunication": {
        "status": "ok",
        "issues": []
      }
    },
    "routingAnalysis": {
      "outboundType": "loadBalancer",
      "udrAnalysis": null
    }
  },
  "diagnostics": {
    "apiConnectivityProbe": null,
    "failureAnalysis": {
      "enabled": false
    },
    "findings": [
      {
        "severity": "critical",
        "code": "CLUSTER_OPERATION_FAILURE",
        "message": "Cluster failed with error: VMExtensionProvisioningError: AKS Node provisioning failed due to inability to establish outbound connectivity to obtain packages with exit status 50. Connection to mcr.microsoft.com failed. Please refer to https://aka.ms/aks/outbound-rules-control-egress and https://aka.ms/aks/vmextensionerror_outboundconnfail for troubleshooting.",
        "error_code": "VMExtensionProvisioningError",
        "recommendation": "Check Azure Activity Log for detailed failure information and contact Azure support if needed"
      },
      {
        "severity": "critical",
        "code": "NODE_POOL_FAILURE",
        "message": "Node pools in failed state: agentpool",
        "recommendation": "Check node pool configuration and Azure Activity Log for detailed failure information"
      },
      {
        "severity": "critical",
        "code": "NSG_BLOCKING_AKS_TRAFFIC",
        "message": "NSG rule 'sec_close' in 'aks-overlay-rg-vnet-default-nsg-canadacentral' may block AKS traffic",
        "recommendation": "Review NSG rule priority 150 - Could block AKS management traffic"
      }
    ]
  }
}